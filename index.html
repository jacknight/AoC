<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
    <link rel="stylesheet" href="style.css" />
    <title>Contents</title>
  </head>
  <body>
    <div class="layout animated">
      <h1>Advent of Code</h1>
      <h2>2020</h2>
      <div class="days"></div>
    </div>
    <button onclick="toggleAnimation()" class="animateButton">
      Please... <br />stop moving... <br />I'm gonna hurl...
    </button>
    <button onclick="toggleAnimation()" class="animateButton hidden">
      Actually, I kinda liked it.
    </button>

    <script>
      let daysElement = document.querySelector(".days");
      for (let i = 1; i < 26; i++) {
        (async () => {
          response = await fetch(`2020/Day ${i}/Part 1.html`);
          if (response.status === 200) {
            let dayElement = document.createElement("div");
            let h3Element = document.createElement("h3");
            let part1Element = document.createElement("a");
            let part2Element = document.createElement("a");
            let breakElement = document.createElement("br");

            dayElement.classList = "day";
            dayElement.style.order = `${i}`;

            h3Element.textContent = `Day ${i}`;
            part1Element.href = `2020/Day ${i}/Part 1.html`;
            part1Element.textContent = "Part 1";
            part2Element.href = `2020/Day ${i}/Part 2.html`;
            part2Element.textContent = "Part 2";

            dayElement.appendChild(h3Element);
            dayElement.appendChild(part1Element);
            dayElement.appendChild(breakElement);
            dayElement.appendChild(part2Element);

            daysElement.appendChild(dayElement);
          }
        })();
      }

      function toggleAnimation() {
        const layout = document.querySelector(".layout");
        layout.classList.toggle("animated");
        const buttons = document.querySelectorAll(".animateButton");
        for (button of buttons) {
          button.classList.toggle("hidden");
        }
      }
    </script>
  </body>
</html>
